<!DOCTYPE html>
<html>
  <head>
    <title>Anon Message Board</title>
    <meta name="description" content="An anonymous message board made with Node and Express">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./public/style.css">
  </head>
  <body>
    <header>
      <h1>Anonymous Message Board</h1>
    </header>
    <div id="userstories">
      <ol>
        <li><strong>POST</strong> a thread to a specific message board by passing form data <code>text</code> and <code>delete_password</code> to <i>/api/threads/{board}</i>.
        Included fields: <code>_id</code>, <code>text</code>, <code>created_on</code>(date&amp;time), <code>bumped_on</code>(date&amp;time, starts same as created_on), <code>reported</code>(boolean), <code>delete_password</code>, &amp; <code>replies</code>(array).</li>
        <li><strong>POST</strong> a reply to a thead on a specific board by passing form data <code>text</code>, <code>delete_password</code>, &amp; <code>thread_id</code> to <i>/api/replies/{board}</i>. This will also update the bumped_on date to the comments date.
        A reply object will be saved to the thread's "replies" array with the following fields: <code>_id</code>, <code>text</code>, <code>created_on</code>, <code>delete_password</code>, &amp; <code>reported</code>.</li>
        <li><strong>GET</strong> an array of the most recent 10 bumped threads on the board with only the most recent 3 replies from <i>/api/threads/{board}</i>.</li>
        <li><strong>GET</strong> an entire thread with all it's replies from <i>/api/replies/{board}?thread_id={thread_id}</i>.</li>
        <li><strong>DELETE</strong> a thread completely by sending a <b>DELETE</b> request to <i>/api/threads/{board}</i>, passing along the <code>thread_id</code> &amp; <code>delete_password</code>. (Text response will be "incorrect password" or "success")</li>
        <li><strong>DELETE</strong> a post by sending a <b>DELETE</b> request to <i>/api/replies/{board}</i> and passing along the <code>thread_id</code>, <code>reply_id</code>, &amp; <code>delete_password</code>. (Text response will be "incorrect password" or "success")</li>
        <li>Report a thread by sending a <strong>PUT</strong> request to <i>/api/threads/{board}</i> and passing along the <code>thread_id</code>. (Text response will be "success")</li>
        <li>Report a reply by sending a <strong>PUT</strong> request to <i>/api/replies/{board}</i> and passing along the <code>thread_id</code> &amp; <code>reply_id</code>. (Text response will be "success")</li>
      </ol>
      <a href="/b/test/">Go to testing <i>'/b/general/'</i> board</a>
    </div>
    <hr>
    <div id="testui">
      <h2>API Tests:</h2>
        <h3>New thread (POST /api/threads/:board)</h3>
        <form action="/api/threads/test" method="post" id="newThread">
          <input type="text" placeholder="board" id="board1" name="board" required><br>
          <textarea type="text" placeholder="Thread text..." name="text" required></textarea><br>
          <input type="text" placeholder="password to delete" name="delete_password"><br>
          <input type="submit" value="Submit">
        </form>
        <hr>
        <h3>Report thread (PUT /api/threads/:board)</h3>
        <form id="reportThread">
          <input type="text" placeholder="board" id="board2" name="board" required><br>
          <input type="text" placeholder="id to report" name="thread_id" required><br>
          <input type="submit" value="Submit">
        </form>
        <hr>
        <h3>Delete thread (DELETE /api/threads/:board)</h3>
        <form id="deleteThread">
          <input type="text" placeholder="board" id="board3" name="board" required><br>
          <input type="text" placeholder="id to delete" name="thread_id" required><br>
          <input type="text" placeholder="password" name="delete_password" required><br>
          <input type="submit" value="Submit">
        </form>
        <hr>
      
        <h3>New reply (POST /api/replies/:board)</h3>
        <form action="/api/threads/test" method="post" id="newReply">
          <input type="text" placeholder="board" id="board4" name="board" required><br>
          <input type="text" placeholder="thread id" name="thread_id" required><br>
          <textarea type="text" placeholder="Thread text..." name="text" required></textarea><br>
          <input type="text" placeholder="password to delete" name="delete_password" required><br>
          <input type="submit" value="Submit">
        </form>
        <hr>
        <h3>Report reply (PUT /api/replies/:board)</h3>
        <form id="reportReply">
          <input type="text" placeholder="board" id="board5" name="board" required><br>
          <input type="text" placeholder="thread id" name="thread_id" required><br>
          <input type="text" placeholder="id to report" name="reply_id" required><br>
          <input type="submit" value="Submit">
        </form>
        <hr>
        <h3>Delete reply (DELETE /api/replies/:board)</h3>
        <form id="deleteReply">
          <input type="text" placeholder="board" id="board6" name="board" required><br>
          <input type="text" placeholder="thread id" name="thread_id" required><br>
          <input type="text" placeholder="id to delete" name="reply_id" required><br>
          <input type="text" placeholder="password" name="delete_password" required><br>
          <input type="submit" value="Submit">
        </form>        
    </div>
    <hr>
    
    <script src="https://code.jquery.com/jquery-2.2.1.min.js" integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00=" crossorigin="anonymous"></script>
    <script src="./public/forms.js"></script> 
    <div class="glitchButton"></div>
    <script src="https://button.glitch.me/button.js"></script>
  </body>
</html>